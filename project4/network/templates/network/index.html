{% extends "network/layout.html" %}
{% load static %}
{% block body %}
<div id="index-view" class="container pt-5">
    <h3>All posts</h3>
    <div class="container p-4 mb-3 border rounded">
        
        {% if user.is_authenticated %}
        <h5>New post</h5>
        <form action="{% url 'new_post' %}" method="POST">
            {% csrf_token %}
            <textarea class="form-control mb-2" type="text" name="message" id="message" rows="3"></textarea>
            <button class="btn btn-primary mb-2" name="submit-post" type="submit">Post</button>
        </form>
        {% else %}
        <p class="text-center"><a href="{% url 'login' %}">Login</a> or <a href="{% url 'register' %}">Register</a> to post what are you think about</p>
        {% endif %}

        {% if message %}
        <p class="text-center text-danger py-0">{{ message }}</p>
        {% endif %}

    </div>
    <div class="container p-4 border rounded">
        <div class="" id="posts-view">
        </div>
        <nav aria-label="Page navigation example">
            <ul id="paginator" class="pagination justify-content-center">
              <li id="page-prev" class="page-item">
                <a id="prev" class="page-link prev" href="javascript:void(0)">Previous</a>
              </li>
              <li id="page-next" class="page-item">
                <a id="next" class="page-link next" href="javascript:void(0)">Next</a>
              </li>
            </ul>
          </nav>
    </div>
</div>
{% endblock %}

{% block script %}

{% endblock %}